{{/* 
  Parameterized clients partial.
  Usage example:
    {{ partial "clients.html" (dict 
        "context" . 
        "data" "clients" 
        "title" "Our Partners" 
        "subtitle" "Organizations we collaborate with"
    ) }}
*/}}

{{ $ctx := .context }}
{{ $dataKey := .data | default "clients" }}
{{ $title := .title | default ($ctx.Site.Params.clients.title | markdownify) }}
{{ $subtitle := .subtitle | default ($ctx.Site.Params.clients.subtitle | markdownify) }}
{{ $data := index $ctx.Site.Data $dataKey }}

{{ if $data }}
  {{ if gt (len $data) 0 }}
  <section class="bar background-gray no-mb">
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <div class="heading text-center">
            <h2>{{ $title }}</h2>
          </div>

          {{ if $subtitle }}
          <p class="lead">
            {{ $subtitle }}
          </p>
          {{ end }}

          <ul class="owl-carousel customers"
              data-items="{{ default 6 $ctx.Site.Params.CarouselCustomers.items }}"
              data-autoplay="{{ default false $ctx.Site.Params.CarouselCustomers.auto_play }}"
              data-slide-speed="{{ default 2000 $ctx.Site.Params.CarouselCustomers.slide_speed }}"
              data-pagination-speed="{{ default 1000 $ctx.Site.Params.CarouselCustomers.pagination_speed }}">
            {{ range $data }}
            <li class="item" title="{{ .name }}">
              {{ if .url }}
                <a href="{{ .url }}" target="_blank">
                  <img src="{{ .image }}" alt="{{ .name }}" class="img-responsive" />
                </a>
              {{ else }}
                <img src="{{ .image }}" alt="{{ .name }}" class="img-responsive" />
              {{ end }}
            </li>
            {{ end }}
          </ul>
          <!-- /.owl-carousel -->
        </div>
      </div>
    </div>
  </section>
  {{ end }}
{{ end }}
